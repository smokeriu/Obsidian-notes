# 单模式

一个**模式**可以是一个**单例**或者**循环**模式。单例模式只接受一个事件，循环模式可以接受多个事件。

> 这里的事件，指一条进入Flink的数据。

模式均是单例模式，可以通过[[量词]]转换为循环模式。每个模式都可以接受一个或多个[[条件]]来作为匹配逻辑。
模式总是起于一个单模式，即`begin`函数：
```java
Pattern<IN,OUT> p = Pattern.<OUT>begin(name)
```
每个单模式需要一个name命名，用于后续从模式匹配到的数据中提取数据。我们可以为模式附加条件来使其真正有效。并为其添加量词来转换为循环模式：
```java
start
  .where(condition) // 条件
  .times(); // 量词
```

## 循环模式

[[高级/循环模式|循环模式]]通过量词转换生成，可以看作是单模式的一个属性。

> 循环模式只会对单模式生效。

循环模式的含义是：可以接受多条，满足条件A的事件，这些事件均会被模式A捕获。

# 组合模式
我们可以为模式附加另一个模式，从而形成**组合模式**：
```java
start.next(B)
```

组合模式的含义是，当一个事件满足模式B，则会被B捕获，且该事件之后的数据不会再进入之前的模式，**可以理解为模式匹配从状态A进入了状态B**。
例如有如下有序数据：`A1,B1,A2`。则一旦接收到数据`B1`，则数据`A2`不会再进入模式A。

> 当前一个模式A附加了[[高级/贪婪|贪婪]]时，有可能事件满足模式B，但不会被B捕获。此时模式的状态仍然处于状态A，而非状态B。

Flink提供了如下函数来进入新模式，即连续条件：
## 严格连续
期望所有匹配的事件严格的一个接一个出现，中间没有任何不匹配的事件。

## 松散连续


| 函数   | 说明  |
| ---- | --- |
| next |     |
|      |     |



## 关系符




# 模式组
区别于组合模式，模式组是模式中的模式，是一种特殊的单模式，如：
```java

```