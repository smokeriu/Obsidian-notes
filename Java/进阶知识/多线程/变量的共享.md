Java提供了一种稍弱的同步机制，用于在线程间共享变量：`volatile`。
其特点是：
1. volatile只能确保**可见性**。
2. volatile无法确保**原子性**。
3. volatile可以保证一定的“**有序性**”。

## 可见性
volatile主要用于保证可见性

## 有序性
volatile可以保证一定的“有序性”。其只能保证包含自身的代码的运行顺序。
效果为：
1. 早于volatile修饰变量的代码，会早于这行代码运行。
2. 晚于volatile修饰变量的代码，会晚于这行代码运行。
3. 

## 原子性
volatile无法保证原子性。


一般而言，volatile的使用场景为：
1. 确保自身状态的可见性。
2. 确保所引用对象的状态的可见性。
3. 标识一些程序生命周期状态，如初始化、关闭。

第三个场景是最常见的：
```java
volatile boolean asleep;

while(!asleep){
	// do something
}

void func(){
	asleep = true;
}
```

这样，线程A对asleep变量的修改，可以使线程B正确的退出循环，而不必使用加锁。

# 注意点


## 有序性
