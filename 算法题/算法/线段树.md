
**线段树解决的是「区间和」的问题，且该「区间」会被修改**。

> 如果区间数值不会修改，可以使用[[../数据结构/数组/前缀和|前缀和]]。

**线段树的每个节点代表一个区间**。下图展示了数组`[1,2,3,4,5]`的线段树：
![[assets/Pasted image 20250103221534.png]]

每个节点代表一个区间，而节点的值就是该区间的和。

节点的值可以根据题目改变含义。例如：
- 数字之和「总数字之和 = 左区间数字之和 + 右区间数字之和」
- 最大公因数 (GCD)「总 GCD = gcd(左区间 GCD, 右区间 GCD)」
- 最大值「总最大值 = max(左区间最大值，右区间最大值)」

即计算可以向上拓展的情况，都可以使用线段树。否则则不能使用线段树，如：
- 众数「只知道左右区间的众数，没法求总区间的众数」

使用链表来表示一棵线段树，其节点的数据结构如下：

```java
class Node {
    // 左右孩子节点
    Node left, right;
    // 当前节点值
    int val;
}
```

# 建立

# 