# 冥的导数
对于$f(x)=ax^n$的形式，其导数$f^{\prime}(x)=anx^{n-1}$。
> 其中，a和n为常数。
# 其他导数
对于一些无法写成冥导数的形式，如三角函数、指数函数。其对应的导数公式如下：
![[assets/Pasted image 20230725135550.png|500]]
# 导数运算
## 加减法
对于加减法求导数，可以对其以此求导数，然后相加。具体而言，如果$f(x) = g(x) + h(x)$，则其导数：
$$
f^{\prime}(x) = g^{\prime}(x) + h^{\prime}(x)
$$
## 乘法
乘法则需要将结果拆开，具体而言，如果$f(x) = g(x) · h(x)$，则其导数为：
$$
f^{\prime}(x) = g^{\prime}(x) · h(x) + g(x) · h^{\prime}(x)
$$
## 链式法则
如果存在链式函数，具体而言，如果$f(x) = g(h(x))$，则其导数为：
$$
f^{\prime}(x) = h^{\prime}(x) · g^{\prime}(h(x))
$$
即$h(x)$会被提到外面，并且将$h(x)$*当做一个整体*对$g$求导。举例说明，如果$f(x)=\ln(\cos(x))$，对其求导，则导数为：
$$
f^{\prime}(x) = -\sin x · \frac{1}{\cos x} = - \frac{\sin(x)}{\cos(x)}
$$
> 而$\ln(\cos(x))$其实就是$\tan x$的另一种写法。

# 向量的导数
这里先明确两个约定：
1. 很多书籍中会使用**分母布局**，但本文这里与[课程矩阵计算](https://www.bilibili.com/video/BV1eZ4y1w7PY?p=2&vd_source=8fc1ba7db0ecc643e9aacb066fe696cb)和[维基百科](https://en.wikipedia.org/wiki/Matrix_calculus)保持一致，使用**分子布局**。他们的结果互为转置。
> 所谓分母布局，就是结果参考分母向量的方向。反之则是*分子*布局。
> 特别的，如果一边是矩阵，若使用*分子*布局，则若分子是矩阵，则结果与分子的布局一致，而若分母是矩阵，则结果为分母布局的转置。

2. 用小写加粗字母表示向量，并所有向量默认均为列向量。即$\mathbf{x}$为列向量，$\mathbf{x}^T$为行向量。

## 标量对向量的导数
标量对向量的导数，为标量对向量中每一个元素分别求导。
例如有标量$y$，有向量$\mathbf{x} = [x_1,x_2,..,x_n]^T$。则有：
$$
\frac{\partial{y}}{\partial{\mathbf{x}}}
=
[\frac{\partial{y}}{\partial{x_1}}, \frac{\partial{y}}{\partial{x_2}}, ..., \frac{\partial{y}}{\partial{x_n}}]
$$
请注意，向量$\mathbf{x}$是一个列向量，而对其求导，将生成行向量。

> 若使用分母布局，则结果依旧为列向量，与$\mathbf{x}$的方向保持一致。

有如下常见导数公式：
- $y=a$时，导数为：$\mathbf{0}^T$
- $y=au$时，导数为：$a\frac{\partial{u}}{\partial{\mathbf{x}}}$
- $y=sum(x)$时，导数为：$\mathbf{1}^T$
- $y=\vert\vert \mathbf{x} \vert\vert^2$时，导数为：$2 \mathbf{x}^T$
对于运算，有如下公式：
- $y=u+v$时，导数为：$\frac{\partial u}{\partial \mathbf{x}} + \frac{\partial v}{\partial \mathbf{x}}$。
- $y=uv$时，导数为：$\frac{\partial u}{\partial \mathbf{x}}v + \frac{\partial v}{\partial \mathbf{x}}u$
- $y=\langle \mathbf{u},\mathbf{v} \rangle$时，导数为：$\mathbf{u}^T\frac{\partial \mathbf{u}}{\partial \mathbf{x}} + \mathbf{v}^T\frac{\partial \mathbf{v}}{\partial \mathbf{x}}$

> $y=\langle \mathbf{u},\mathbf{v} \rangle$表示向量的内积，这里u和v均为向量。而第二个公式中，uv为标量。
## 向量对标量的导数
xl'l量对向量的导数，为标量对向量中每一个元素分别求导。
例如有标量$y$，有向量$\mathbf{x} = [x_1,x_2,..,x_n]^T$。则有：
$$
\frac{\partial{y}}{\partial{\mathbf{x}}}
=
[\frac{\partial{y}}{\partial{x_1}}, \frac{\partial{y}}{\partial{x_2}}, ..., \frac{\partial{y}}{\partial{x_n}}]
$$
请注意，向量$\mathbf{x}$是一个列向量，而对其求导，将生成行向量。

> 若使用分母布局，则结果依旧为列向量，与$\mathbf{x}$的方向保持一致。

有如下常见导数公式：
- $y=a$时，导数为：$\mathbf{0}^T$
- $y=au$时，导数为：$a\frac{\partial{u}}{\partial{\mathbf{x}}}$
- $y=sum(x)$时，导数为：$\mathbf{1}^T$
- $y=\vert\vert \mathbf{x} \vert\vert^2$时，导数为：$2 \mathbf{x}^T$
对于运算，有如下公式：
- $y=u+v$时，导数为：$\frac{\partial u}{\partial \mathbf{x}} + \frac{\partial v}{\partial \mathbf{x}}$。
- $y=uv$时，导数为：$\frac{\partial u}{\partial \mathbf{x}}v + \frac{\partial v}{\partial \mathbf{x}}u$
- $y=\langle \mathbf{u},\mathbf{v} \rangle$时，导数为：$\mathbf{u}^T\frac{\partial \mathbf{u}}{\partial \mathbf{x}} + \mathbf{v}^T\frac{\partial \mathbf{v}}{\partial \mathbf{x}}$

## 向量对向量的导数
向量$y$对向量$x$的求导，可以用向量$y$的每个元素分别对向量$x$上的每个元素求导，并生成一个矩阵。
具体而言，向量$y$中的第一个元素，对向量$x$上的每个元素求导，得到矩阵第一**列**。并以此类推：
$$
\begin{equation*}
DF(x) = 
	\begin{bmatrix}
		\dfrac{\partial f_1}{\partial x_1} & \dfrac{\partial f_2}{\partial x_1}  & \cdots & \dfrac{\partial f_m}{\partial x_1}\\
		\dfrac{\partial f_1}{\partial x_2} & \dfrac{\partial f_2}{\partial x_2}  & \cdots & \dfrac{\partial f_m}{\partial x_2}\\
		\vdots                             & \vdots                              & \vdots & \vdots                            \\
		\dfrac{\partial f_1}{\partial x_n} & \dfrac{\partial f_2}{\partial x_n}  & \cdots & \dfrac{\partial f_m}{\partial x_n}
	\end{bmatrix}
\end{equation*}
$$
> 参考: [向量对向量求导](https://www.cnblogs.com/yanghh/p/13758243.html)
