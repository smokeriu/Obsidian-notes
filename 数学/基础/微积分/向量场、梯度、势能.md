# 向量场
二维平面中，向量场用函数$\symbfit{F}(x,y)$，表示点$(x,y)$引力场的值。具体而言，向量场的输入是平面上的一个点，输出则是一个**向量**。
二维几何上，通过向量场，可以求得平面上每个点指向的方向。
![[assets/Pasted image 20230725145207.png|500]]

# 势能
势能与向量场类似，其接受一个点$(x,y)$，返回这个点的势能。一般用$\symbfit{U}(x,y)$表示势能函数。
![[assets/Pasted image 20230725145849.png|500]]
需要注意的是，返回的势能一般是一个数值，如上图所示。
> 所谓势能，是一个用来描述物体在保守力场中做功**能力大小**的物理量。从物理意义上来说，势能表示物体在特定位置上所储存的能量，所以势能越大，表示其离中心越偏，其受到的引力越小。

# 梯度
势能函数的陡度告诉我们一个对象向指定方向运动需要消耗多少能量。
而梯度是一种**运算**，它接收像势能一样的标量场，并生成像引力场一样的向量场。简而言之，对于任意一点$(x,y)$，向量场指向标量场增大最快的方向。
对于势能函数$\symbfit{U}(x,y)$，他的[[偏导数]]被称为梯度，记作$\nabla{\symbfit{U}}$。并有如下公式：
$$
\nabla{\symbfit{U}}(x,y) = 
(\frac{\partial{\symbfit{U}}}{\partial{x}}·\frac{\partial{\symbfit{U}}}{\partial{y}})
$$
而对势能求偏导数，物理意义上，我们得到的是这个点的变化幅度，它本质上是一个向量，即指向标量场增大最快的方向。

# 用势能梯度计算向量场
梯度类似于标量场的普通导数。它提供了足够的信息来找到标量场的最陡上升方向，但从物理学的角度来看，最陡上升方向并不是我们要寻找的。毕竟，自然界中没有对象会自发地向上移动。如果要向上移动，它们需要外部施加一个力或者牺牲一些动能来获得更大的势能。
所以，对象感受到的力（比如说重力、引力），应该用势能的**负梯度**来描述，它指向最陡的下降方向，而不是最陡的上升方向。
> 这里的上下只具有物理意义。

则如果$\symbfit{U}(x,y)$表示势能的标量场，则其与相关向量场$\symbfit{F}(x,y)$的关系为：
$$
\symbfit{F}(x,y) = - \nabla{\symbfit{U}}(x,y)
$$
## 样例
有如下势能函数
$$
\symbfit{U}(x,y) = 1 + y^2 - 2x^2 + x^6
$$
几何上其图示为：
![[assets/Pasted image 20230725151717.png|300]]
求其向量场，则分别对x和y进行偏导
$$
\frac{\partial{\symbfit{U}}}{\partial{x}} 
= 
-4x+6x^5
,
\frac{\partial{\symbfit{U}}}{\partial{y}}
=
2y
$$
所以，向量场为
$$
\symbfit{F}(x,y) = - \nabla{\symbfit{U}}(x,y) = (4x-6x^5, -2y)
$$
可以看到，向量场会有两个函数组成，即结果是向量。其均为偏导数。
几何上其图示为：
![[assets/Pasted image 20230725152121.png|300]]
我们可以看到，向量场指向的点，也是标量场中值最小的点。

# 总结
- 梯度，与向量场互为正负。是一个函数，输入一个点，返回这个点的向量。
- 势能。是一个函数，输入一个点，返回这个点的势能。是一个值，其物理含义是其持有的能量大小。
- 势能的偏函数，即为梯度。

# 梯度上升
梯度的方向，指的是，对于任意给定的点，函数在哪个方向上增大得最快。
如果在这个方向上跳到一个新的点，我们应该是在向上并朝着一个最大值移动。这个过程称为**梯度上升**。
在算法的实现中，会首先计算起点的梯度，并将其与起点位置相加，得到在梯度方向上、离原点有一定距离的新点。重复这个过程，就可以移动到越来越接近最大值的点。
对于接近最大值的点，其梯度越接近于0。